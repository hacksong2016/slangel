<template name="profileNew">
	<div class="row">
		<div class="col-sm-10 col-sm-offset-1">
			<div class="panel panel-default">
				<div class="panel-heading">
					<h4>完善帮助者资料</h4>
				</div>
				<div class="panel-body">
					{{#autoForm collection="Profiles" id="profileNew" type="insert"}}
					    {{>profileFields}}
					    <div>
					    	<button type="submit" class="btn btn-primary"><i class="fa fa-floppy-o"></i> Save</button>
					    </div>
					{{/autoForm}}
				</div>
			</div>
		</div>
	</div>
</template>

<template name="profileEdit">
    <div class="row">
		<div class="col-sm-10 col-sm-offset-1">
			<div class="panel panel-default">
				<div class="panel-heading">
					<h4>修改帮助者资料</h4>
				</div>
				<div class="panel-body">
					{{#autoForm collection="Profiles" id="profileEdit" type="update" doc=profile}}
					    {{>profileFields}}
					    <div>
					    	<button type="submit" class="btn btn-primary"><i class="fa fa-floppy-o"></i> 更新</button>
					    	<button id="cancel" class="btn btn-default"> 取消</button>
					    </div>
					{{/autoForm}}
				</div>
			</div>
		</div>
	</div>
</template>

<template name="profileFields">
	<div class="form-group"  id="profileAvatarPreview">
		<label class="control-label">{{#if customImagePreviewUrl}}Custom{{else}}Automatic{{/if}} Avatar</label>
		<div class="row">
			<div class="col-md-4">
				{{#if customImagePreviewUrl}}
					<div class="avatar avatar-large">
						<img class="img-responsive" src="{{resizeImageUrl customImagePreviewUrl 200 200}}"/>
					</div>
				{{else}}
					{{> avatar user=currentUser size="large"}}
				{{/if}}
			</div>
			<div class="col-md-4">
				<input
					id="custom-image"
					name="customImageUrl"
					data-schema-key="customImageUrl"
					type="hidden"
					role="uploadcare-uploader"
					data-tabs="file camera url facebook gdrive dropbox instagram flickr skydrive"
					data-image-shrink="800x800"
					data-images-only="true"
					data-preview-step="true"
					data-clearable="true"
					data-multiple="false"
					data-system-dialog="false"
					data-crop="800:800"
					data-cdn-base="https://ucarecdn.com/"
				/>
			</div>
		</div>
	</div>

	{{>afQuickField name='name' placeholder="您的姓名"}}
	{{>afQuickField name='title' placeholder="展示您主要的帮助方式"}}
	{{>afQuickField name='availableForHire'}}
	{{>afQuickField name='type' noselect="true" options="allowed" type="select-radio-inline"}}
	{{>afQuickField name='interestedIn' noselect="true" options="allowed" type="select-checkbox-inline"}}
	{{>afQuickField name='location' placeholder="您在哪个城市"}}
	{{>afQuickField name='contact' placeholder="电话、邮箱"}}
	{{>afQuickField name='url' placeholder="您个人、组织的网站或博客地址"}}
	{{>afQuickField name='description' rows=8  placeholder="介绍一下您的基本情况，爱好，对留守儿童问题的看法等"}}
</template>
